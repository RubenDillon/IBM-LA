En este instructivo, instalaremos la aplicacion Sock Shop. Una tipica aplicacion open source para demostrar observabilidad.

<img width="1311" height="960" alt="image" src="https://github.com/user-attachments/assets/3fdd0f45-63da-49fa-b067-6d4a35f154b3" />




Para poder desplegarlo, necesitamos una VM donde instalar K3s.


```
git clone https://github.com/microservices-demo/microservices-demo.git
cd microservices-demo

kubectl apply -f deploy/kubernetes/manifests

kubectl create namespace sock-shop
kubectl apply -n sock-shop -f deploy/kubernetes/manifests

kubectl get pods -n sock-shop

```

Como mis VMs solo tienen abierto el puerto 8080, debemos cambiar el rango de NodePort de k3s

```
sudo mkdir -p /etc/rancher/k3s
sudo vi /etc/rancher/k3s/config.yaml
```

en el archivo incluir esta linea

```
kube-apiserver-arg:
  - "service-node-port-range=1-65535"
```

reiniciar

```
sudo systemctl restart k3s
```

Validar que el cambio fue tomado

```
kubectl cluster-info dump | grep service-node-port-range
```

Ahora editar el NodePort

```
kubectl -n sock-shop edit svc front-end
```

Debe quedar asi...

```
spec:
  type: NodePort
  ports:
    - name: http
      port: 80
      targetPort: 8079
      nodePort: 8080   # <--- agregar esta lÃ­nea o cambiarla
```

Lo accedemos usando http contra la ip de la VM y el puerto 8080

```
http://x.y.z.w:8080
```



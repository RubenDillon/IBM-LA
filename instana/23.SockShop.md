En este instructivo, instalaremos la aplicacion Sock Shop. Una tipica aplicacion open source para demostrar observabilidad.

<img width="927" height="450" alt="image" src="https://github.com/user-attachments/assets/be120610-7ad6-4db8-a468-88c0240fe284" />

Lo interesante de la aplicacion Sock Shop es que es una demo tradicionalmente utilizada, ya que tiene componentes en multiples lenguajes como tambien distintos motores.

<img width="700" height="500" alt="image" src="https://github.com/user-attachments/assets/77d64d8f-6e5e-46ee-b416-1df5be1de8a9" />


Para poder desplegarlo, necesitamos una VM donde instalar K3s.


```
git clone https://github.com/microservices-demo/microservices-demo.git
cd microservices-demo

kubectl apply -f deploy/kubernetes/manifests

kubectl create namespace sock-shop
kubectl apply -n sock-shop -f deploy/kubernetes/manifests

kubectl get pods -n sock-shop

```

Como mis VMs solo tienen abierto el puerto 8080, debemos cambiar el rango de NodePort de k3s

```
sudo mkdir -p /etc/rancher/k3s
sudo vi /etc/rancher/k3s/config.yaml
```

en el archivo incluir esta linea

```
kube-apiserver-arg:
  - "service-node-port-range=1-65535"
```

reiniciar

```
sudo systemctl restart k3s
```

Validar que el cambio fue tomado

```
kubectl cluster-info dump | grep service-node-port-range
```

Ahora editar el NodePort

```
kubectl -n sock-shop edit svc front-end
```

Debe quedar asi...

```
spec:
  type: NodePort
  ports:
    - name: http
      port: 80
      targetPort: 8079
      nodePort: 8080   # <--- agregar esta lÃ­nea o cambiarla
```

Lo accedemos usando http contra la ip de la VM y el puerto 8080

```
http://x.y.z.w:8080
```



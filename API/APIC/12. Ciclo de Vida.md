Manejo de Ciclo de vida de los Productos en APIC
=

En este apartado vamos a simular la situacion donde tenemos un producto publicado, con una API dentro del mismo que va a sufrir una actualizacion. La idea es mostrar el ciclo de vida de como podria suceder.

A grandes rasgos
  - Creamos una nueva API de ejemplo y usaremos esa para mostrar el ciclo de vida de los Productos
  - Tenemos la version 1.0.0 de la API DemoUsuarios, publicada en el Catalogo Produccion y generamos una segunda version (2.0.0)
  - Ponemos la nueva API en Stage simulando una etapa de evaluacion. En algun momento, definimos que la API esta lista para pasar a produccion.
  - Llegado el momento, sugerimos utilizar la opcion Supersede para que la migracion de 1.0.0 a 2.0.0 sea "natural" para los usuarios suscriptos 

Conectarnos a una nueva API
-

1) Para este ejemplo, vamos a conectarnos a una API tipica de ejemplo. Para ello, creamos una nueva API y seleccionamos la opcion "From Target Service"

2) Cuando consulte el path colocaremos "https://dummyjson.com/users"
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/bb92e7c2-4029-4ebd-a745-251b16d2ccbc" />


3) Seguir el asistente con todos los valores por defecto. Una vez creado, ir a Test y probar que este funcionando correctamente.
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/379dd723-5800-4185-aef5-c34e06bf5687" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/49804698-c2f3-4db0-beb8-6750246bb1e1" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/8091694d-dbc9-4c26-85db-bfa0e1ee82e9" />


4) Creamos un nuevo Producto y Plan asociado a esta nueva API en el Catalogo Produccion.

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/ab77d770-1be8-4889-a71f-910a89e7634d" />


Crear una nueva version de la API y del Producto
-

1) Para simular una nueva version de la API, vamos a la UI de APIC y marcamos la API que vamos a estar usando, seleccionamos "Save as New Version"
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/abf9ce13-7f9e-40d6-a475-73893a18a3c6" />

2) En Save As New Version form, completamos 2.0.0 y seleccionamos Submit. Lograremos tener una nueva version de la API previamente creada
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/666f9888-2907-4fae-8afc-b2ae0239866d" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/8451531e-d75c-4336-9abc-29b655ac26ef" />

3) Luego editamos la API para generar cambios con la original, como por ejemplo borrar los operaciones PUT, DELETE...
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/099e0617-3573-4099-bab1-b0fdecb8c6a1" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/b5084794-bf04-469e-b262-69d545f353c6" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/7b6ee586-a946-4278-8f06-a89cb878eec7" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/e734a8ec-cc33-4c26-a8c8-1c6915bf871e" />


4) Ahora, vamos a crear una nueva version del Producto que hemos creado en el paso anterior. PAra ello, vamos a Productos y seleccionamos "Save as New Version"
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/47d0d956-96b5-44b3-9b2c-4f1c6f30c8ed" />

5)  En Save As New Version form, completamos 2.0.0 y seleccionamos Submit. Lograremos tener una nueva version del Producto previamente creado
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/685b4165-6082-4bb5-88f0-a6c59a080b6f" />


6)  A este producto, le agrego un nuevo plan
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/4b7b026e-ca00-43ce-9967-538577e251b0" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/52a48f36-1626-4950-bc24-bf027c309c69" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/50483f1c-1833-408a-b0b4-8bf22331a084" />

7)  Siguiente paso, ponemos en Stage este nuevo producto
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/5837fb3e-9f71-4ab4-b479-7d3d36808852" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/7a416303-bffc-4f03-bba3-c5038c5b2358" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/3fbcfb7a-b6b1-44cc-8625-e8aaa3225078" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/edb81b64-f3a9-4b12-937d-e23786c7c321" />


8) Si vamos a Manage y elegimos el Catalogo Produccion, veremos los productos y su actual estado
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/7c9d2ae7-6e55-4dc1-a521-4d6238a2e2f3" />

Experiencia del Desarrollador (consumidor)
-

1) Si abrimos el portal de Desarrolladores, veremos que hay dos productos
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/ecf39004-5571-40a8-9d6f-b1db18c2ef9a" />


2) Vamos a loguearnos como un usuario, utilizar nuestro producto y suscribir la nueva API. Repasemos los pasos...
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/1dfc8476-41da-44ec-a7a2-58c08313496b" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/3f5f824e-2759-4c22-adbb-7c2c0a581755" />

seleccionamos usuarios

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/0eb9887c-d264-4cf9-b848-aa71ce43db84" />

luego Default Plan y lo asociamos a Clientes (la App)

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/3fd12cca-3304-45e4-bbb7-4576c6c266c5" />

continuamos con la suscripcion.

3) Si vamos a Apps y vamos a Subscriptions...
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/7b9093de-de2c-4f7f-82a6-953363ebacf5" />



Supersede del Producto
-

1) Para hacer Supersede del Producto 1.0.0 hacia la version 2.0.0, vamos a la consola de APIC, Manage, seleccionamos el Producto 1.0.0 y seleccionamos Supersede
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/8baa8936-0928-4a99-ab63-e0647691c845" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/c01f5bf6-c75b-4af4-9477-6a99fd6fb877" />


2) Seleccionamos el producto por el cual queremos hacer el update
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/0944ea49-2578-4a44-aeab-ca66420a49db" />

3) Como vamos a migrar los Planes
<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/f19deb55-afa0-4bec-8003-a167fcfd947c" />

<img width="1714" height="1074" alt="image" src="https://github.com/user-attachments/assets/260f6d5e-44dd-461a-9d25-47223248ac4f" />


4) Al finalizar, podemos notar dos cambios... que la version 1.0.0 ha pasado a Deprecated y la version 2.0.0 a Published   
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/7e7e0a3b-7e12-4ac5-9e55-9c792ea8df0c" />

Cambios desde el punto de vista del desarrollador
- 

1) El usuario que se conecta al portal del Desarrollador, notara que hay cambios
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/8c7265de-5d8a-4522-9ed1-50bcca9b9a3c" />

2) Si se para en sus productos, podra ver como avanzar con el cambio
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/0d01445b-0ebd-493d-a6e0-eba1935cf9d2" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/3a4a5c8b-83d5-4173-8b61-94122146a1fd" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/ac80a187-0238-4de9-8468-98e9cc6958c3" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/35b9bc47-f23f-4d2d-b4bd-41f32d4bd52d" />


3)  Si entro a ver la nueva version, veremos que hay dos Planes y que el resto, sigue igual
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/fe4d6af1-f3c3-4c8d-aec3-b755fe631625" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/bfb52428-6d61-4cfb-9af8-4a52206c1608" />

Actualizando la API del Producto 2.0.0
-

1) Para proceder con la actualizacion de la API del Producto 2.0.0, vamos a APIC y a Develop. Selecciono Update APIs
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/cced35cf-f8d2-4672-9ea2-6663b6cf35ff" />

2) Selecciono las dos APIs nuevas
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/f9150a91-5a9f-4dbf-8ef8-4888b33770d3" />

3) Ingreso al producto 2.0.0 para visualizar que se encuentrar ambas APIs disponibles
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/d798de27-86ed-416b-bef5-6f077dc18031" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/72d80133-46b5-45e5-8564-a98e401b5ecc" />

4) Luego selecciono Publish
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/3e7a442b-1733-431f-8725-3e3c93b33285" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/439a436c-680f-4e1f-ba81-e10eb3d33d35" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/b010658b-d101-432a-bfd0-a3c92469100d" />

5) Vamos a Manage y veremos las dos APIs en el catalogo
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/ab2917dc-8fef-413f-820a-87e641241c1f" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/3bebfc89-e84e-42bd-a436-88e20bc09bd6" />

6) Si vamos al portal de desarrolladores, veremos que hay dos APIs en el producto 2.0.0  
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/4af4c866-4012-444a-acc6-0096d8af1450" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/e7ce61cb-bc5a-43ad-8883-6e016ceccefc" />

7) Si vamos a la operaciones de la version 2.0.0, veremos que estan limitadas versus la version 1.0.0
<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/ce3aa86d-97b3-4257-a77c-819d2f706263" />

<img width="1430" height="873" alt="image" src="https://github.com/user-attachments/assets/0a0c15b3-af69-4e52-ab39-74d97fd81b6a" />
 
